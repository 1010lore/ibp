<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="style.css" rel="stylesheet" />
    <title>IBP</title>
  </head>

  <body>
    <div class="navbar">
      <a href="index.html">IBP</a>&emsp;
      <a href="docs.html">Docs</a>&emsp;
      <a href="https://github.com/AjayMT/ibp">Source Code</a>&emsp;
      <a href="https://1010labs.org">About</a>
    </div>

    <div class="three-cols">

      <div>
        <h4>Program</h4>
        <code>for (int i = 0; true; ++i) {</code>
        <div id="editor" style="min-height: 300px;">if (i % 2 == 0) {}
if (i % 4 == 0) {}</div>
        <code>}</code><br />
        <span id="programError" style="color: red;"></span><br />
        <button id="compile">Compile</button>
      </div>

      <div>
        <h4>Branch Predictor</h4>
        <code id="iterationLabel">i = 0</code><br />
        <span id="predictorError" style="color: red;"></span><br />
        <button id="step">Step</button><br />
        <button id="run">Run</button>
        for
        <input type="number" value="100" id="iterations" />
        iterations<br />
        <button id="reset">Reset</button><br />
        <br />
        <div class="box">
          Parameters:<br />
          <strong>M = </strong><input type="number" id="M" value="4"/> (entries per table)<br />
          <strong>N = </strong>
          <select id="N">
            <option value="1">1 bit</option>
            <option value="2F">2 bit FSM</option>
          </select> (bits per entry)<br />
          <strong>P = </strong><input type="number" id="P" value="1"/> (shift register size)<br />
          <button id="update">Update</button>
        </div><br />
        <div class="box">
          Predictor:<br />
          <strong>SR = </strong><span id="SR">0</span><br />
          <table id="table">
          </table><br />
          PC: <span id="PC"></span><br />
          Last prediction: <span id="lastPrediction"></span>
        </div>
      </div>

      <div>
        <h4>Accuracy</h4>
      </div>

    </div>

    <script src="https://pagecdn.io/lib/ace/1.4.5/ace.js" integrity="sha256-5Xkhn3k/1rbXB+Q/DX/2RuAtaB4dRRyQvMs83prFjpM=" crossorigin="anonymous"></script>
    <script type="text/javascript">let module = {};</script>
    <script type="text/javascript" src="program_parser.js"></script>
    <script type="text/javascript" src="ibp.js"></script>
  </body>
</html>
